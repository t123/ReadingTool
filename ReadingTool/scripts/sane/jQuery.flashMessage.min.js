$.fn.flashMessage = function (a) { function d(a) { $.cookie("Flash." + a, null, { path: "/" }) } function c() { $.each(new Array("Success", "Error", "Warning", "Info"), function (b, c) { var e = $.cookie("Flash." + c); if (e) { a.message = e; a.alert = c; d(c); return } }) } var b = this; a = $.extend({}, a, { timeout: 0, alert: "info" }); if (!a.message) { c(a) } if (a.message) { $(b).addClass("alert-" + a.alert.toString().toLowerCase()); if (typeof a.message === "string") { $("p", b).html("<span>" + a.message + "</span>") } else { b.empty().append(a.message) } } else { return } if (b.children().length === 0) return; b.fadeIn().one("click", function () { $(this).fadeOut() }); if (a.timeout > 0) { setTimeout(function () { b.fadeOut() }, a.timeout) } return this }