@using MongoDB.Bson
@model ReadingTool.Models.Create.Word.WordModel
@{
    ViewBag.Title = "Edit Word";
}
@section styles {
    <link href="@AppHelper.CssUrl("site/jquery-ui-1.8.17.custom.css")" rel="stylesheet" type="text/css" media="screen, projection"/>
}
@section submenu {
    @Html.Partial("_menu")
}
@section footer { }
@{
    using (Html.BeginForm<WordsController>(x => x.Edit(Model.WordId.ToString()), FormMethod.Post))
    {
    @Html.ValidationSummary(true)
    @Html.AntiForgeryToken()
    <legend>Edit Word</legend>

    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.LanguageId)
        @Html.DropDownListFor(
                x => x.LanguageId,
                new SelectList(ViewBag.Languages as Dictionary<ObjectId,string>, "Key", "Value"),
                "Please choose a language"
           )
        @Html.ValidationMessageFor(x => x.LanguageId)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.State)
        @Html.DropDownListFor(
                x => x.State,
                new SelectList(from WordState s in Enum.GetValues(typeof(WordState)) select new { Key = s, Value = EnumHelper.GetDescription(s) }, "Key", "Value")
           )
        @Html.ValidationMessageFor(x => x.LanguageId)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.WordPhrase)
        @Html.TextBoxFor(x => x.WordPhrase)
        @Html.ValidationMessageFor(x => x.WordPhrase)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.BaseWord)
        @Html.TextBoxFor(x => x.BaseWord)
        @Html.ValidationMessageFor(x => x.BaseWord)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.Sentence)
        @Html.TextBoxFor(x => x.Sentence, new { style = "width: 600px;" })
        @Html.ValidationMessageFor(x => x.Sentence)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.Definition)
        @Html.TextAreaFor(x => x.Definition)
        @Html.ValidationMessageFor(x => x.Definition)
    </div>

    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.Romanisation)
        @Html.TextBoxFor(x => x.Romanisation)
        @Html.ValidationMessageFor(x => x.Romanisation)
    </div>
    
    <div class="input_wrapper">
        @Html.LabelHelpFor(x => x.Tags)
        @Html.TextBoxFor(x => x.Tags)
        @Html.ValidationMessageFor(x => x.Tags)
    </div>
    
    <button type="submit">
        <span>save text</span>
    </button>
    }
}
@section bottomJS {
    <script language="javascript" type="text/javascript">
        new uiHelper({
            urls: { ajaxUrl: '@((ViewData[CacheKeys.URLS] as UrlModel).Ajax)' },
            tags: [{ name: '#Tags', endpoint: 'autocompletewordtags'}]
        });
    </script>
}
