@model ReadingTool.Entities.Parser.ParserOutput
@{
    Layout = null;
    string groupId = ViewBag.GroupId.ToString();
    var isGroup = !string.IsNullOrEmpty(groupId);
}

<div id="textArea">
    <div id="textTop">
        @if(!string.IsNullOrEmpty(Model.Item.Url))
        {
            <input type="hidden" id="currentTime"/>
            <div id="jp_container_1" class="jp-video jp-video-360p">
                <div class="jp-type-single">
                    <div id="jquery_jplayer_1" class="jp-jplayer"></div>
                    <div class="jp-gui">
                        <div class="jp-video-play">
                            <a href="javascript:;" class="jp-video-play-icon" tabindex="1">play</a>
                        </div>

                        <div class="jp-interface">
                            <div class="jp-progress">
                                <div class="jp-seek-bar">
                                    <div class="jp-play-bar"></div>
                                </div>
                            </div>
                            <div class="jp-current-time"></div>
                            <div class="jp-duration"></div>
                            <div class="jp-title">
                                <ul>
                                    <li>@Model.Item.Title</li>
                                </ul>
                            </div>

                            <div class="jp-controls-holder">
                                <ul class="jp-controls">
                                    <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
                                    <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
                                    <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
                                    <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
                                    <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
                                    <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
                                </ul>

                                <div class="jp-volume-bar">
                                    <div class="jp-volume-bar-value"></div>
                                </div>

                                <ul class="jp-toggles">
                                    <li><a href="javascript:;" class="jp-full-screen" tabindex="1" title="full screen">full screen</a></li>
                                    <li><a href="javascript:;" class="jp-restore-screen" tabindex="1" title="restore screen">restore screen</a></li>
                                    <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
                                    <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="jp-no-solution">
                        <span>Update Required</span>
                        To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                    </div>
                </div>
            </div>
        @*<div id="jplayer_inspector"></div>*@
        }
    </div>

    <div id="textContent" dir="@(Model.Language.IsRtlLanguage ? "rtl" : "ltr")" >
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>
                <td class="f">
                    <p id="first"></p>
                </td>
            </tr>
            <tr>
                <td class="s">
                    <p id="second"></p>
                </td>
            </tr>
        </table>
        <div style="display: none">
            @Html.Raw(Model.ParsedHtml)
        </div>
    </div>
    
    @if(!isGroup)
    {
        <div id="textBottom">
            <div id="textTitle">
                <ul class="lr" style="padding-left:0px">
                   <li><strong>@Model.Item.Title</strong></li>
                   <li>(@(string.IsNullOrEmpty(Model.Item.CollectionName) ? "No collection" : Model.Item.CollectionName) @Model.Item.CollectionNo)</li>
                    <li>@(Html.ActionLink<TextsController>(x => x.EditVideo(Model.Item.ItemId), "edit video"))</li>
                    <li>@(Html.ActionLink<LanguagesController>(x => x.Edit(Model.Language.LanguageId), "edit language"))</li>
                
                    @if(!string.IsNullOrEmpty(Model.Item.PreviousItem))
                    {
                        <li>@(Html.ActionLink<TextsController>(x => x.Watch(Model.Item.PreviousItem), "previous"))</li>
                    }
                
                    @if(!string.IsNullOrEmpty(Model.Item.NextItem))
                    {
                        <li>@(Html.ActionLink<TextsController>(x => x.Watch(Model.Item.NextItem), "next"))</li>
                    }
                    <li><input type="checkbox" id="quickmode"/>&nbsp;quick mode&nbsp;</li>
                    <li><input type="checkbox" id="removespaces" />&nbsp;remove spaces&nbsp;</li>
                </ul>
                <div class="clr5"></div>
            </div>
        </div>
    }
    else
    {
        <div id="textBottom">
            <div id="textTitle">
                <ul class="lr" style="padding-left:0px">
                   <li><strong>@Model.Item.Title</strong></li>
                   <li>(@(string.IsNullOrEmpty(Model.Item.CollectionName) ? "No collection" : Model.Item.CollectionName) @Model.Item.CollectionNo)</li>
                    <li>
                        @(Html.ActionLink<GroupsController>(x => x.View(groupId), "back to group"))
                    </li>
                    <li><input type="checkbox" id="quickmode"/>&nbsp;quick mode&nbsp;</li>
                    <li><input type="checkbox" id="removespaces" />&nbsp;remove spaces&nbsp;</li>
                </ul>
                <div class="clr5"></div>
            </div>
        </div>
    }
</div>