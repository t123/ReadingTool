@model PublicProfileModel
@{
    ViewBag.Title = "Public Profile";
}
@section submenu { @Html.Partial("_menu") }

@section styles {
    <link href="@AppHelper.CssUrl("markdowndeep/mdd_styles.css")" rel="stylesheet" type="text/css" media="screen, projection"/>
}
@section topJS
{
    <script src="@AppHelper.ScriptUrl("markdowndeep/MarkdownDeepLib.min.js")" type="text/javascript" language="javascript"></script>
}
@{
    using (Html.BeginForm<MyAccountController>(x => x.PublicProfile(), FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        <legend>Public Profile (@(Html.ActionLink<ProfilesController>(x => x.Index(Model.Username), "show me my profile", new { target = "_blank" } )))</legend>
    
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.Availability)
            @Html.DropDownListFor(x=>x.Availability,
             new SelectList(from PublicProfileAvailability a in Enum.GetValues(typeof(PublicProfileAvailability)) select new { Key = a, Value = EnumHelper.GetDescription(a) }, "Key", "Value"),
            "Please choose")
            @Html.ValidationMessageFor(x => x.Availability)
        </div>
    
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.ShowNativeLanguage)
            @Html.CheckBoxFor(x => x.ShowNativeLanguage)
            @Html.ValidationMessageFor(x => x.ShowNativeLanguage)
        </div>
    
@*        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.ShowStats)
            @Html.CheckBoxFor(x => x.ShowStats)
            @Html.ValidationMessageFor(x => x.ShowStats)
        </div>*@
    
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.Location)
            @Html.TextBoxFor(x => x.Location)
            @Html.ValidationMessageFor(x => x.Location)
        </div>
    
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.WebsiteUrl)
            @Html.TextBoxFor(x => x.WebsiteUrl)
            @Html.ValidationMessageFor(x => x.WebsiteUrl)
        </div>
    
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.TwitterUrl)
            @Html.TextBoxFor(x => x.TwitterUrl)
            @Html.ValidationMessageFor(x => x.TwitterUrl)
        </div>
    
        <div class="clr10"></div>
        <div class="input_wrapper">
            @Html.LabelHelpFor(x => x.AboutMe)
            @Html.TextAreaFor(x => x.AboutMe, new { @class = "mdd_editor" })
            @Html.ValidationMessageFor(x => x.AboutMe)
        </div>
    
        <button type="submit">
            <span>save</span>
        </button>
    }
}

@section bottomJS {
<script language="javascript" type="text/javascript">
    $(document).ready(function () {
            $("textarea.mdd_editor").MarkdownDeep({
                help_location: "/scripts/markdowndeep/mdd_help.htm",
                ExtraMode: true
            });
        });
</script>
}