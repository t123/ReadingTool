@model ReadingTool.Site.Models.Account.UserModel
@{
    ViewBag.Title = "My Account";
}

<div class="row-fluid">
    <div class="span12">
        @using(Html.BeginForm("Update", "Account", FormMethod.Post, new { @class = "form-horizontal" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(x => x.Created)
            @Html.HiddenFor(x => x.DisplayName)
            <fieldset>
                <div class="media">
                    <a class="pull-left" href="http://www.gravatar.com">
                        @Html.Gravatar(Model.EmailAddress, Model.DisplayName, "media-object")
                    </a>
                    <div class="media-body">
                        <h4 class="media-heading">@Model.Username</h4>
                        member since @Model.Created.ToString("dd MMMM yyyy")
                    </div>
                </div>
                <div class="clr10"></div>
                @*                <div class="control-group">
                    @Html.LabelFor(x => x.ApiKey, new { @class = "control-label" })
                    <div class="controls">
                        @Html.TextBoxFor(x => x.ApiKey, new { @placeholder = "your API key", @class = "input-xxlarge", disabled="disabled", @readonly="readonly" })
                        @Html.TipFor(x => x.ApiKey)
                        @Html.ValidationMessageFor(x => x.ApiKey)
                    </div>
                </div>*@
                <div class="control-group">
                    @Html.LabelFor(x => x.DisplayName, new { @class = "control-label" })
                    <div class="controls">
                        @Html.TextBoxFor(x => x.DisplayName, new { @placeholder = "display name, what others users see", @class = "input-xxlarge" })
                        @Html.TipFor(x => x.DisplayName)
                        @Html.ValidationMessageFor(x => x.DisplayName)
                    </div>
                </div>
                <div class="control-group">
                    @Html.LabelFor(x => x.EmailAddress, new { @class = "control-label" })
                    <div class="controls">
                        @Html.TextBoxFor(x => x.EmailAddress, new { @placeholder = "email address, not required", @class = "input-xxlarge" })
                        @Html.TipFor(x => x.EmailAddress)
                        @Html.ValidationMessageFor(x => x.EmailAddress)
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save changes</button>
                    <a href="@Url.Action("ChangePassword")" class="btn">Change your password</a>
                    <a href="@Url.Action("DeleteAccount")" class="btn">Delete your account</a>
                    <a href="@Url.Action("ExportAccount")" class="btn">Export account data</a>
                    @*<a href="@Url.Action("NewApiKey")" class="btn">Create a new API key</a>*@
                </div>
            </fieldset>
        }
    </div>
</div>
<div class="row-fluid">
    <div class="span12">
        If you'd like to import your <a href="http://lwt.sourceforge.net" target="_blank" title="Learning with Texts">LWT</a> data, 
        please <a href="@Url.Action("ImportLwt")">click here</a>.
    </div>
</div>
